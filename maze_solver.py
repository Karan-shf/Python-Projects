import os
# import sys

# sys.setrecursionlimit(9999)

def ShowMaze(maze):
    for i in maze:
        for j in i:
            print(j,end=' ')
        print()

def MazeSolver(maze,cursor,last_loc):
    
    satr = cursor[0]
    sotoon = cursor[1]

    if sotoon > 0:
        if [satr,sotoon-1] != last_loc:
            if maze[satr][sotoon-1] == '.' or maze[satr][sotoon-1] == 'E':
                # sotoon -= 1
                MazeSolver(maze,[satr,sotoon-1],[satr,sotoon])
    if satr > 0:
        if [satr-1,sotoon] != last_loc:
            if maze[satr-1][sotoon] == '.' or maze[satr-1][sotoon] == 'E':
                # satr -= 1
                MazeSolver(maze,[satr-1,sotoon],[satr,sotoon])
    if sotoon < maze_size-1:
        if [satr,sotoon+1] != last_loc:
            if maze[satr][sotoon+1] == '.' or maze[satr][sotoon+1] == 'E':
                # sotoon += 1
                MazeSolver(maze,[satr,sotoon+1],[satr,sotoon])
    if satr < maze_size-1:
        if [satr+1,sotoon] != last_loc:
            if maze[satr+1][sotoon] == '.' or maze[satr+1][sotoon] == 'E':
                # satr += 1
                MazeSolver(maze,[satr+1,sotoon],[satr,sotoon])

    if maze[satr][sotoon] == 'E':
        maze[satr][sotoon]='O'
    if sotoon > 0:
        if maze[satr][sotoon-1] == 'O':
            maze[satr][sotoon]='O'
    if satr > 0:
        if maze[satr-1][sotoon] == 'O':
            maze[satr][sotoon]='O'
    if sotoon < maze_size-1:
        if maze[satr][sotoon+1] == 'O':
            maze[satr][sotoon]='O'
    if satr < maze_size-1:
        if maze[satr+1][sotoon] == 'O':
            maze[satr][sotoon]='O'
    

maze = [
    ['S', '.', '*', '*', '*', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '.', '*', '*'],
    ['*', '.', '*', '*', '*', '.', '*', '*', '*', '*', '*', '*', '.', '*', '*', '*', '*', '.', '.', '*'],
    ['*', '.', '*', '*', '*', '.', '.', '.', '.', '.', '.', '*', '.', '*', '*', '*', '*', '*', '*', '*'],
    ['*', '.', '*', '*', '*', '*', '*', '*', '*', '*', '.', '*', '.', '.', '.', '.', '.', '.', '.', '*'],
    ['*', '.', '.', '.', '*', '*', '*', '*', '.', '*', '.', '*', '*', '*', '*', '*', '*', '*', '.', '*'],
    ['*', '*', '*', '.', '.', '.', '.', '.', '.', '*', '.', '.', '*', '*', '*', '*', '*', '*', '.', '.'],
    ['*', '*', '*', '.', '*', '*', '*', '*', '*', '*', '*', '.', '*', '*', '*', '*', '*', '*', '*', '.'],
    ['.', '.', '.', '.', '*', '*', '*', '*', '*', '*', '*', '.', '*', '*', '.', '.', '.', '.', '*', '.'],
    ['.', '*', '*', '.', '.', '.', '.', '*', '*', '*', '*', '.', '*', '*', '.', '*', '*', '.', '*', '*'],
    ['.', '*', '*', '.', '*', '*', '.', '.', '*', '*', '*', '.', '*', '.', '.', '*', '*', '.', '*', '*'],
    ['.', '*', '*', '.', '*', '*', '*', '.', '*', '*', '*', '.', '*', '*', '.', '*', '*', '.', '.', '.'],
    ['.', '*', '*', '.', '*', '*', '*', '.', '.', '.', '.', '.', '.', '.', '.', '*', '*', '.', '*', '.'],
    ['.', '*', '*', '.', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '.', '*', '.'],
    ['.', '*', '*', '.', '*', '*', '*', '*', '*', '*', '.', '.', '.', '.', '.', '*', '*', '.', '*', '.'],
    ['*', '.', '.', '.', '.', '.', '.', '.', '.', '*', '*', '*', '*', '*', '.', '*', '*', '.', '*', '.'],
    ['*', '.', '*', '*', '*', '*', '*', '*', '.', '.', '.', '.', '.', '.', '.', '*', '*', '.', '*', '.'],
    ['*', '.', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '*', '.'],
    ['*', '.', '.', '.', '.', '.', '.', '*', '.', '.', '.', '.', '*', '*', '*', '*', '*', '.', '.', '.'],
    ['*', '*', '*', '*', '*', '*', '.', '*', '*', '*', '*', '.', '*', '*', '*', '*', '*', '.', '*', '*'],
    ['*', '*', '*', '*', '*', '*', '.', '.', '.', '.', '.', '.', '*', '*', '*', '*', '*', '.', '.', 'E']
]

maze_size = len(maze) # = 20

cursor = [0,0]

ShowMaze(maze)
print('-----------------------------------------------------------')
MazeSolver(maze,cursor,[100,100])
ShowMaze(maze)